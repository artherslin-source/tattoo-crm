# 規格管理界面使用指南

**版本：** v1.0  
**更新日期：** 2025-11-04  
**狀態：** ✅ 完整實作完成

---

## 🎨 UI 改進總覽

### 問題 1：規格選擇器字色太淡 ✅ 已修復

**修改前：**
- 尺寸按鈕：淡灰色字體（不明顯）
- 顏色按鈕：淡灰色字體
- 部位按鈕：淡灰色字體

**修改後：**
- ✅ 尺寸按鈕：**深灰色字體** + **加粗** + **邊框加深**
- ✅ 顏色按鈕：**接近黑色** + **加大** + **邊框加深**
- ✅ 部位按鈕：**深灰色字體** + **加粗** + **邊框加深**

---

## 🛠️ 管理後台規格管理功能

### 問題 2：需要能夠管理規格設定 ✅ 已實作

現在管理後台擁有**完整的規格管理功能**！

---

## 📱 管理後台操作指南

### 服務列表頁面

**位置：** `/admin/services`

**新增欄位：**
```
服務名稱 | 分類 | 價格 | 時長 | 圖片 | [規格] | 狀態 | 操作
```

**操作按鈕：**

#### 未設定規格的服務
```
[編輯] [📦 設定規格] [刪除]
        ↑ 藍色按鈕
```

#### 已設定規格的服務
```
[編輯] [🎛️ 管理規格] [刪除]
        ↑ 紫色按鈕
```

---

## 🎯 規格管理器（VariantManager）

### 打開方式

1. 進入管理後台 → 服務管理
2. 找到已設定規格的服務
3. 點擊**「管理規格」**按鈕（紫色）
4. 規格管理器彈出視窗打開

### 界面說明

**Header（頂部）：**
```
┌─────────────────────────────────────────┐
│ 規格管理                           [X]  │
│ 上手臂 - 共 21 個規格（21 個啟用）      │
└─────────────────────────────────────────┘
```

**說明區域（藍色提示框）：**
```
💡 規格管理說明
• 切換開關可以啟用/停用規格（停用後顧客將看不到此選項）
• 點擊「編輯」可以修改價格和時長
• 價格調整：尺寸的價格是完整價格（已包含黑白），彩色通常 +1000 元
• 刪除規格後無法復原，請謹慎操作
```

**規格分組顯示：**

#### 尺寸（12 個）
```
┌─────────────────────────────────────────────────────┐
│ 尺寸 [12 個]                                         │
├─────────────────────────────────────────────────────┤
│ 5-6cm [S1] [必選]                      [🔵] [編輯] [🗑️] │
│ 價格：2000元  時長：+30分                            │
│ 5-6cm（黑白2000/彩色3000）                          │
├─────────────────────────────────────────────────────┤
│ 6-7cm [S2] [必選]                      [🔵] [編輯] [🗑️] │
│ 價格：3000元  時長：+40分                            │
│ ... (共12個)                                         │
└─────────────────────────────────────────────────────┘
```

#### 顏色（2 個）
```
┌─────────────────────────────────────────────────────┐
│ 顏色 [2 個]                                          │
├─────────────────────────────────────────────────────┤
│ 黑白 [BW] [必選]                       [🔵] [編輯] [🗑️] │
│ 價格：0元  時長：+0分                                │
│ 黑白陰影                                             │
├─────────────────────────────────────────────────────┤
│ 彩色 [COLOR] [必選]                    [🔵] [編輯] [🗑️] │
│ 價格：+1000元  時長：+30分                           │
│ 彩色上色（大部分尺寸+1000）                          │
└─────────────────────────────────────────────────────┘
```

#### 部位（6 個）
```
┌─────────────────────────────────────────────────────┐
│ 部位 [6 個]                                          │
├─────────────────────────────────────────────────────┤
│ 手臂外側 [P1]                          [🔵] [編輯] [🗑️] │
│ 價格：0元  時長：+0分                                │
│ ... (共6個)                                          │
└─────────────────────────────────────────────────────┘
```

#### 設計費（1 個）
```
┌─────────────────────────────────────────────────────┐
│ 設計費 [1 個]                                        │
├─────────────────────────────────────────────────────┤
│ 設計費 [DESIGN]                        [🔵] [編輯] [🗑️] │
│ 價格：0元  時長：+60分                               │
│ 另外估價（需管理後台輸入）                           │
└─────────────────────────────────────────────────────┘
```

---

## 🔧 規格管理操作

### 1. 啟用/停用規格

**目的：** 控制顧客能看到哪些規格選項

**操作：**
1. 找到要停用的規格
2. 點擊右側的**Toggle 圖標**（🔵 或 ⚪）
3. 等待更新完成
4. 停用後顧客將看不到此選項

**範例場景：**
```
場景：小型刺青服務不提供大尺寸

操作：
- 停用「15-16cm」
- 停用「16-17cm」

結果：
- 顧客只能看到 5-14cm 的尺寸選項
- 大尺寸選項被隱藏
```

### 2. 編輯規格

**目的：** 調整價格和施作時長

**操作：**
1. 找到要編輯的規格
2. 點擊**「編輯」**按鈕
3. 規格卡片展開顯示編輯表單
4. 修改**價格調整**或**時長調整**
5. 點擊**「保存」**（綠色按鈕）
6. 或點擊**「取消」**放棄修改

**編輯模式畫面：**
```
┌─────────────────────────────────────────────────────┐
│ 10-11cm [S6] [必選]                                  │
│ ┌─────────────────┬──────────────────┐              │
│ │ 價格調整（元）  │ 時長調整（分鐘）│              │
│ │ [7000        ]  │ [80           ]  │              │
│ └─────────────────┴──────────────────┘              │
│ [💾 保存] [取消]                                     │
└─────────────────────────────────────────────────────┘
```

**調整範例：**
```
調整前：10-11cm = 7000元，+80分鐘
調整後：10-11cm = 8000元，+90分鐘

結果：
- 顧客選擇「10-11cm + 黑白」= 8000元（而非7000元）
- 預估時長增加10分鐘
```

### 3. 刪除規格

**目的：** 移除不需要的規格選項

**操作：**
1. 找到要刪除的規格
2. 點擊**「刪除」**按鈕（🗑️）
3. 確認刪除（顯示提示）
4. 規格被移除

**確認對話框：**
```
確定要刪除規格「15-16cm」嗎？

注意：顧客將無法再選擇此規格。
```

**⚠️ 注意：** 刪除後無法復原！

---

## 🎯 常見使用場景

### 場景 1：小型刺青服務（只提供小尺寸）

**操作：**
1. 打開「小型圖騰」的規格管理
2. 停用大尺寸：
   - 停用「13-14cm」
   - 停用「14-15cm」
   - 停用「15-16cm」
   - 停用「16-17cm」
3. 保持啟用「5-12cm」的尺寸

**結果：**
- 顧客只能選擇 5-12cm 的尺寸
- 價格範圍：2000-9000元（黑白）

### 場景 2：黑白專門服務（不提供彩色）

**操作：**
1. 打開規格管理
2. 停用「彩色」選項

**結果：**
- 顧客只能選擇「黑白」
- 所有價格為黑白價格

### 場景 3：調整特定尺寸價格

**操作：**
1. 打開規格管理
2. 找到「10-11cm」
3. 點擊「編輯」
4. 修改價格：7000 → 6500
5. 保存

**結果：**
- 「10-11cm + 黑白」= 6500元（降價500元）
- 「10-11cm + 彩色」= 7500元

### 場景 4：限制部位選項

**操作：**
1. 打開規格管理
2. 只保留「手臂外側」和「手臂內側」
3. 停用其他部位（小腿、大腿、背部、胸部）

**結果：**
- 顧客只能選擇手臂相關部位
- 適合「手臂專門」服務

---

## 📊 規格狀態說明

### 啟用狀態

- **啟用（綠色 Toggle）：** 顧客可以看到並選擇
- **停用（灰色 Toggle）：** 顧客看不到此選項

### 必選標記

- **[必選] Badge（紅色）：** 顧客必須選擇此類型的規格
- **無標記：** 可選規格，顧客可以不選

### 規格統計

**顯示位置：** Header

**格式：** 共 21 個規格（21 個啟用）
- 第一個數字：總規格數
- 第二個數字：啟用的規格數

**範例：**
- `共 21 個規格（21 個啟用）` - 全部啟用
- `共 21 個規格（15 個啟用）` - 部分啟用
- `共 21 個規格（0 個啟用）` - 全部停用

---

## 🎨 視覺設計

### 顏色系統

| 元素 | 顏色 | 用途 |
|------|------|------|
| 設定規格按鈕 | 藍色 | 初始化規格 |
| 管理規格按鈕 | 紫色 | 進入管理界面 |
| 啟用 Toggle | 綠色 | 規格已啟用 |
| 停用 Toggle | 灰色 | 規格已停用 |
| 必選 Badge | 紅色 | 必選規格 |
| 編輯中 Ring | 藍色 | 編輯模式 |
| 保存按鈕 | 綠色 | 確認保存 |
| 刪除按鈕 | 紅色 | 刪除規格 |

### 字體優化

**規格選擇器（顧客端）：**
- 尺寸：`font-bold text-base` (粗體，基礎大小)
- 顏色：`text-xl font-bold` (加大，粗體)
- 部位：`font-semibold` (半粗體)
- 價格：`text-gray-700 font-medium` (深色，中等粗細)

**規格管理器（管理端）：**
- 規格名稱：`font-semibold text-gray-900`
- 價格時長：`text-sm text-gray-600`
- 說明文字：`text-xs text-gray-500`

---

## 🔄 完整操作流程

### 流程 1：新增服務並設定規格

```
1. 點擊「新增服務」
   ↓
2. 填寫服務基本資訊
   - 服務名稱
   - 價格（建議設為 0，因為會用規格價格）
   - 時長
   - 分類
   - 描述
   ↓
3. 保存服務
   ↓ 服務列表顯示「未設定」
4. 點擊「設定規格」（藍色按鈕）
   ↓
5. 確認初始化
   ↓ 創建 21 個規格
6. 規格狀態更新為「已設定」
   ↓
7. 點擊「管理規格」（紫色按鈕）
   ↓
8. 調整規格設定
   - 停用不需要的選項
   - 修改價格
   - 修改時長
   ↓
9. 完成！顧客可以使用此服務
```

### 流程 2：調整現有服務的規格

```
1. 進入服務管理
   ↓
2. 找到要調整的服務
   ↓
3. 點擊「管理規格」（紫色按鈕）
   ↓
4. 規格管理器打開
   ↓
5. 執行操作：
   A. 停用某個規格 → 點擊 Toggle
   B. 修改價格/時長 → 點擊「編輯」→ 修改 → 「保存」
   C. 刪除規格 → 點擊「刪除」→ 確認
   ↓
6. 關閉管理器
   ↓
7. 前端立即生效
```

---

## 📋 管理範例

### 範例 1：調整價格

**需求：** 「10-11cm」的黑白價格從 7000 調整為 6500

**步驟：**
1. 打開規格管理
2. 找到「尺寸」區域的「10-11cm」
3. 點擊「編輯」
4. 修改「價格調整」：7000 → 6500
5. 點擊「保存」

**結果：**
- 10-11cm + 黑白 = **6500元**（降價 500元）
- 10-11cm + 彩色 = **7500元**（6500 + 1000）

### 範例 2：隱藏大尺寸

**需求：** 小型刺青服務不提供大於 12cm 的選項

**步驟：**
1. 打開規格管理
2. 找到「尺寸」區域
3. 停用以下選項（點擊 Toggle）：
   - 13-14cm
   - 14-15cm
   - 15-16cm
   - 16-17cm

**結果：**
- 顧客只能選擇 5-12cm
- 被停用的選項不會顯示在規格選擇器中

### 範例 3：只提供黑白

**需求：** 某服務只提供黑白，不提供彩色

**步驟：**
1. 打開規格管理
2. 找到「顏色」區域的「彩色」
3. 點擊 Toggle 停用

**結果：**
- 顧客只能選擇「黑白」
- 「彩色」選項被隱藏

### 範例 4：限制部位

**需求：** 手臂刺青服務只提供手臂相關部位

**步驟：**
1. 打開規格管理
2. 找到「部位」區域
3. 停用：小腿、大腿、背部、胸部
4. 保留：手臂外側、手臂內側

**結果：**
- 部位選項只顯示兩個（手臂相關）

---

## 🎨 UI 特色

### 規格選擇器（顧客端）改進

**修改前：**
- 按鈕字色淡（gray-200、gray-500）
- 不易閱讀

**修改後：**
- ✅ 尺寸按鈕：
  - 邊框：`border-gray-300`（深灰）
  - 文字：`text-gray-800`（深灰）
  - Hover：`text-gray-900`（更深）
  - 字體：`font-bold text-base`（粗體）

- ✅ 顏色按鈕：
  - 邊框：`border-gray-400`（更深）
  - 文字：`text-gray-900`（接近黑色）
  - Hover：`text-black`（黑色）
  - 字體：`text-xl font-bold`（加大加粗）

- ✅ 部位按鈕：
  - 邊框：`border-gray-300`
  - 文字：`text-gray-800`
  - 字體：`font-semibold`（半粗體）

### 規格管理器（管理端）

**特色：**
- 📋 分組顯示（按類型）
- 🎨 視覺化狀態（啟用/停用）
- ✏️ 內嵌編輯表單
- 🔵 Toggle 開關動畫
- 📊 規格統計顯示
- 💡 操作說明提示
- 🎯 確認對話框（刪除時）

---

## 🚀 部署狀態

### 已部署功能

- ✅ Railway 生產環境：所有 18 個服務已初始化規格
- ✅ 前端規格選擇器：字色已加深
- ✅ 管理後台：完整規格管理功能
- ✅ 所有代碼已推送到 GitHub
- ✅ Railway 正在自動部署

### 立即可用

部署完成後（約 2-3 分鐘），您可以：

**顧客端：**
1. 訪問 https://tattoo-crm-production.up.railway.app/home
2. 點擊「加入購物車」
3. **看到更清晰的規格按鈕**（字色加深）
4. 選擇規格並加入購物車

**管理後台：**
1. 訪問 https://tattoo-crm-production.up.railway.app/admin/services
2. 看到所有服務的規格狀態（「已設定」）
3. 點擊「管理規格」（紫色按鈕）
4. **完整的規格管理界面**
5. 可以啟用/停用、編輯、刪除規格

---

## 📚 快速參考

### 按鈕說明

| 按鈕 | 顏色 | 圖標 | 功能 |
|------|------|------|------|
| 設定規格 | 藍色 | 📦 | 初始化規格（未設定時） |
| 管理規格 | 紫色 | 🎛️ | 打開規格管理器（已設定時） |
| Toggle | 綠/灰 | 🔵⚪ | 啟用/停用規格 |
| 編輯 | 白色 | ✏️ | 編輯價格和時長 |
| 保存 | 綠色 | 💾 | 保存編輯 |
| 刪除 | 白色 | 🗑️ | 刪除規格 |

### 規格類型

| 類型 | 數量 | 必選 | 說明 |
|------|------|------|------|
| 尺寸 | 12 | ✓ | 5-6cm 到 16-17cm |
| 顏色 | 2 | ✓ | 黑白、彩色 |
| 部位 | 6 | - | 手臂、腿、背、胸等 |
| 設計費 | 1 | - | 另外估價 |

---

## ✅ 功能檢查清單

### 顧客端
- [x] 規格選擇器字色加深
- [x] 按鈕更易閱讀
- [x] 所有規格正常顯示
- [x] 價格計算正確

### 管理後台
- [x] 規格狀態顯示（已設定/未設定）
- [x] 設定規格按鈕（藍色）
- [x] 管理規格按鈕（紫色）
- [x] 規格管理器（完整功能）
- [x] 啟用/停用切換
- [x] 編輯價格和時長
- [x] 刪除規格
- [x] 規格統計顯示

---

## 🎊 總結

### 修復完成

✅ **問題 1：字色太淡** - 已加深並加粗
✅ **問題 2：缺少規格管理** - 完整功能已實作

### 新增功能

1. **規格管理器組件**（VariantManager）
2. **啟用/停用功能**
3. **編輯規格功能**
4. **刪除規格功能**
5. **視覺化管理界面**

### 當前狀態

🟢 **系統完全就緒！**

- 購物車系統：100% 可用
- 規格系統：100% 可管理
- UI 優化：100% 完成
- 文檔：100% 完整

---

**立即訪問管理後台測試規格管理功能！** 🎨

**訪問：** https://tattoo-crm-production.up.railway.app/admin/services

---

**文檔版本：** v1.0  
**作者：** AI Assistant  
**狀態：** ✅ 生產就緒

