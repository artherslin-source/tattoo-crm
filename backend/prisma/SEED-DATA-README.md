# 種子資料說明：seed-data.sql 與 Railway／本機差異

## seed-data.sql（本檔為生產／Zeabur 用）

- **用途**：上線環境手動匯入，與《系統安裝上線說明》一致。
- **內容**：
  - **分店**：三重店、東港店（固定 ID：seed-branch-1、seed-branch-2）
  - **管理員**：admin@test.com / 手機 0988666888 / 密碼 12345678
  - **分店經理**：manager1@test.com、manager2@test.com（密碼 12345678）
  - **刺青師 6 位**：朱川進×2（三重店、東港店）、陳翔男、黃晨洋、林承葉、陳震宇（密碼皆 12345678），並含 **photoUrl** 預設頭像（Unsplash 示範圖，可於後台更換）。**登入為手機號**，見下方列表。
  - **基本服務**：小圖刺青、中圖刺青、大圖刺青（3 項）
- **圖片說明**：資料庫只存「網址或路徑」，不存檔案。刺青師頭像已改為在 seed 裡寫入 **photoUrl**（外部示範圖），首頁即可顯示；服務圖片仍為後台「服務管理」上傳後才會寫入 `Service.imageUrl`。
- **登入帳號（手機）／密碼**：系統以**手機號碼**登入，密碼皆 **12345678**。
  - 管理員：0988666888
  - 三重店經理：0900000001　東港店經理：0900000002
  - 刺青師：朱川進（三重）0900000011、朱川進（東港）0981927959、陳翔男 0930828952、黃晨洋 0939098588、林承葉 0974320073、陳震宇 0937981900
- **與 Railway 關係**：若 Railway 上是以「手動執行此 SQL 檔」或同內容匯入，則資料與本檔一致（固定 ID）。若 Railway 曾用 `seed.ts` 在空 DB 跑過，則人名／分店名相同，但 ID 為自動產生。

## seed.ts（本機開發用）

- **用途**：`npm run seed`，本機或測試環境。
- **空 DB 時**：會建立「同一份」分店／管理員／6 位刺青師／3 項基本服務（姓名、email、手機、專長與 seed-data.sql 一致），但 **ID 為 Prisma 自動產生**（非固定 seed-branch-1 等）。
- **此外**：會清理並重建會員、預約、帳單等示範資料（不適合生產環境）。

## 已匯入過舊版 seed、朱川進（三重店）沒有手機時

若當時 seed 裡該帳號手機為 NULL，無法用手機登入，可對該 DB 執行一次：

```sql
UPDATE "User" SET phone = '0900000011' WHERE id = 'seed-user-zhu-s' AND (phone IS NULL OR phone = '');
```

## 已匯入過舊版 seed、刺青師沒有頭像時

若資料庫是較早匯入的 seed-data.sql（當時沒有 photoUrl），可補跑一次：

```bash
psql "$DATABASE_URL" -f backend/prisma/seed-data-artist-photos.sql
```

會為 6 位種子刺青師寫入預設頭像網址，首頁「刺青師團隊」即會顯示圖片。

## 結論

- **要與「上線說明／Railway 手動匯入」一致**：請用 **seed-data.sql**（已含刺青師預設頭像）。
- **本機開發**：可用 `npm run seed`（seed.ts）；若希望本機 ID 與生產一致，可改用手動執行 seed-data.sql。
